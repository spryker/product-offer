{
    "error": [
        {
            "severity": "error",
            "line_from": 117,
            "line_to": 117,
            "type": "InvalidReturnType",
            "message": "The declared return type 'array<array-key, string>' for Spryker\\Zed\\ProductOffer\\Business\\InactiveProductOfferItemsFilter\\InactiveProductOfferItemsFilter::getProductOfferReferencesFromQuoteTransfer is incorrect, got 'list<mixed|null|string>'",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/InactiveProductOfferItemsFilter/InactiveProductOfferItemsFilter.php",
            "snippet": "     * @return array<string>",
            "selected_text": "array<string>",
            "error_level": 6,
            "shortcode": 11
        },
        {
            "severity": "error",
            "line_from": 129,
            "line_to": 129,
            "type": "InvalidReturnStatement",
            "message": "The inferred type 'list<mixed|null|string>' does not match the declared return type 'array<array-key, string>' for Spryker\\Zed\\ProductOffer\\Business\\InactiveProductOfferItemsFilter\\InactiveProductOfferItemsFilter::getProductOfferReferencesFromQuoteTransfer",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/InactiveProductOfferItemsFilter/InactiveProductOfferItemsFilter.php",
            "snippet": "        return $productOfferReferences;",
            "selected_text": "$productOfferReferences",
            "error_level": 6,
            "shortcode": 128
        },
        {
            "severity": "error",
            "line_from": 114,
            "line_to": 114,
            "type": "InvalidReturnType",
            "message": "The declared return type 'array<array-key, string>' for Spryker\\Zed\\ProductOffer\\Business\\Validator\\ProductOfferCheckoutValidator::extractProductOfferReferences is incorrect, got 'list<mixed|null|string>'",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Validator/ProductOfferCheckoutValidator.php",
            "snippet": "     * @return array<string>",
            "selected_text": "array<string>",
            "error_level": 6,
            "shortcode": 11
        },
        {
            "severity": "error",
            "line_from": 127,
            "line_to": 127,
            "type": "InvalidReturnStatement",
            "message": "The inferred type 'list<mixed|null|string>' does not match the declared return type 'array<array-key, string>' for Spryker\\Zed\\ProductOffer\\Business\\Validator\\ProductOfferCheckoutValidator::extractProductOfferReferences",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Validator/ProductOfferCheckoutValidator.php",
            "snippet": "        return $productOfferReferences;",
            "selected_text": "$productOfferReferences",
            "error_level": 6,
            "shortcode": 128
        }
    ],
    "warning": [
        {
            "severity": "info",
            "line_from": 62,
            "line_to": 62,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $productConcreteSkusByOfferReference[mixed|null|string] using possibly null offset mixed|null|string",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Checker/ItemProductOfferChecker.php",
            "snippet": "            $productConcreteSkusByOfferReference[$cartItem->getProductOfferReference()] = $cartItem->getSku();",
            "selected_text": "$productConcreteSkusByOfferReference",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 78,
            "line_to": 78,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Generated\\Shared\\Transfer\\ProductOfferTransfer> variable $productOfferTransfers",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Checker/ItemProductOfferChecker.php",
            "snippet": "        if (!$productOfferTransfers->count()) {",
            "selected_text": "count",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 81,
            "line_to": 81,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\ProductOffer\\Business\\Checker\\ItemProductOfferChecker::createErrorMessage cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Checker/ItemProductOfferChecker.php",
            "snippet": "                $cartPreCheckResponseTransfer->addMessage($this->createErrorMessage($sku));",
            "selected_text": "$sku",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 90,
            "line_to": 90,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $productConcreteSkusByOfferReference using possibly null offset mixed|null|string",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Checker/ItemProductOfferChecker.php",
            "snippet": "                && $productOfferTransfer->getConcreteSku() === $productConcreteSkusByOfferReference[$productOfferTransfer->getProductOfferReference()]",
            "selected_text": "$productConcreteSkusByOfferReference",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 96,
            "line_to": 96,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\ProductOffer\\Business\\Checker\\ItemProductOfferChecker::createErrorMessage cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Checker/ItemProductOfferChecker.php",
            "snippet": "                ->addMessage($this->createErrorMessage($productOfferTransfer->getConcreteSku()));",
            "selected_text": "$productOfferTransfer->getConcreteSku()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 38,
            "line_to": 38,
            "type": "PossiblyNullOperand",
            "message": "Left operand cannot be nullable, got int|null",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Counter/ProductOfferCartItemQuantityCounter.php",
            "snippet": "            $itemQuantity += $itemInCartTransfer->getQuantity();",
            "selected_text": "$itemQuantity",
            "error_level": 1,
            "shortcode": 80
        },
        {
            "severity": "info",
            "line_from": 38,
            "line_to": 38,
            "type": "PossiblyNullOperand",
            "message": "Right operand cannot be nullable, got int|null",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Counter/ProductOfferCartItemQuantityCounter.php",
            "snippet": "            $itemQuantity += $itemInCartTransfer->getQuantity();",
            "selected_text": "$itemInCartTransfer->getQuantity()",
            "error_level": 1,
            "shortcode": 80
        },
        {
            "severity": "info",
            "line_from": 79,
            "line_to": 79,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\ProductOffer\\Dependency\\Facade\\ProductOfferToStoreFacadeInterface::getStoreByName cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/InactiveProductOfferItemsFilter/InactiveProductOfferItemsFilter.php",
            "snippet": "                $this->storeFacade->getStoreByName($quoteTransfer->getStore()->getName())->getIdStore(),",
            "selected_text": "$quoteTransfer->getStore()->getName()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 79,
            "line_to": 79,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getName on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/InactiveProductOfferItemsFilter/InactiveProductOfferItemsFilter.php",
            "snippet": "                $this->storeFacade->getStoreByName($quoteTransfer->getStore()->getName())->getIdStore(),",
            "selected_text": "getName",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 90,
            "line_to": 90,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Generated\\Shared\\Transfer\\ItemTransfer> variable ",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/InactiveProductOfferItemsFilter/InactiveProductOfferItemsFilter.php",
            "snippet": "                $quoteTransfer->getItems()->offsetUnset($key);",
            "selected_text": "offsetUnset",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 91,
            "line_to": 91,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\ProductOffer\\Business\\InactiveProductOfferItemsFilter\\InactiveProductOfferItemsFilter::addFilterMessage cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/InactiveProductOfferItemsFilter/InactiveProductOfferItemsFilter.php",
            "snippet": "                $this->addFilterMessage($itemTransfer->getSku());",
            "selected_text": "$itemTransfer->getSku()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 142,
            "line_to": 142,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $indexedProductOfferTransfers[mixed|null|string] using possibly null offset mixed|null|string",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/InactiveProductOfferItemsFilter/InactiveProductOfferItemsFilter.php",
            "snippet": "            $indexedProductOfferTransfers[$productOfferTransfer->getProductOfferReference()] = $productOfferTransfer;",
            "selected_text": "$indexedProductOfferTransfers",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 47,
            "line_to": 47,
            "type": "InvalidNullableReturnType",
            "message": "The declared return type 'bool' for Spryker\\Zed\\ProductOffer\\Business\\Validator\\ProductOfferCheckoutValidator::isQuoteReadyForCheckout is not nullable, but 'bool|null' contains null",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Validator/ProductOfferCheckoutValidator.php",
            "snippet": "     * @return bool",
            "selected_text": "bool",
            "error_level": 5,
            "shortcode": 144
        },
        {
            "severity": "info",
            "line_from": 72,
            "line_to": 72,
            "type": "NullableReturnStatement",
            "message": "The declared return type 'bool' for Spryker\\Zed\\ProductOffer\\Business\\Validator\\ProductOfferCheckoutValidator::isQuoteReadyForCheckout is not nullable, but the function returns 'bool|null'",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Validator/ProductOfferCheckoutValidator.php",
            "snippet": "        return $checkoutResponseTransfer->getIsSuccess();",
            "selected_text": "$checkoutResponseTransfer->getIsSuccess()",
            "error_level": 5,
            "shortcode": 139
        },
        {
            "severity": "info",
            "line_from": 87,
            "line_to": 87,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $productOfferTransfers[mixed|null|string] using possibly null offset mixed|null|string",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Validator/ProductOfferCheckoutValidator.php",
            "snippet": "            $productOfferTransfers[$productOfferTransfer->getProductOfferReference()] = $productOfferTransfer;",
            "selected_text": "$productOfferTransfers",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 152,
            "line_to": 152,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\ProductOffer\\Business\\Generator\\ProductOfferReferenceGeneratorInterface::generateProductOfferReferenceById cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Writer/ProductOfferWriter.php",
            "snippet": "                    ->generateProductOfferReferenceById($productOfferTransfer->getIdProductOffer()),",
            "selected_text": "$productOfferTransfer->getIdProductOffer()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 188,
            "line_to": 188,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\ProductOffer\\Persistence\\ProductOfferRepositoryInterface::getProductOfferStores cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Writer/ProductOfferWriter.php",
            "snippet": "            $this->productOfferRepository->getProductOfferStores($productOfferTransfer->getIdProductOffer()),",
            "selected_text": "$productOfferTransfer->getIdProductOffer()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 190,
            "line_to": 190,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Generated\\Shared\\Transfer\\StoreTransfer> variable ",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Writer/ProductOfferWriter.php",
            "snippet": "        $productOfferStoreTransfers = $this->indexStoreTransfersByIdStore($productOfferTransfer->getStores()->getArrayCopy());",
            "selected_text": "getArrayCopy",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 193,
            "line_to": 193,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\ProductOffer\\Persistence\\ProductOfferEntityManagerInterface::deleteProductOfferStores cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Writer/ProductOfferWriter.php",
            "snippet": "            $productOfferTransfer->getIdProductOffer(),",
            "selected_text": "$productOfferTransfer->getIdProductOffer()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 263,
            "line_to": 263,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $indexedStoreTransfers[int|null] using possibly null offset int|null",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Business/Writer/ProductOfferWriter.php",
            "snippet": "            $indexedStoreTransfers[$storeTransfer->getIdStore()] = $storeTransfer;",
            "selected_text": "$indexedStoreTransfers",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 55,
            "line_to": 55,
            "type": "PossiblyNullOperand",
            "message": "Cannot concatenate with a possibly null null|string",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Communication/Plugin/Cart/ProductOfferGroupKeyItemExpanderPlugin.php",
            "snippet": "        return $itemTransfer->getGroupKey() . static::GROUP_KEY_DELIMITER . $itemTransfer->getProductOfferReference();",
            "selected_text": "$itemTransfer->getProductOfferReference()",
            "error_level": 1,
            "shortcode": 80
        },
        {
            "severity": "info",
            "line_from": 50,
            "line_to": 50,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of findOneByIdProductOffer cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferEntityManager.php",
            "snippet": "            ->findOneByIdProductOffer($productOfferTransfer->getIdProductOffer());",
            "selected_text": "$productOfferTransfer->getIdProductOffer()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 54,
            "line_to": 54,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of Spryker\\Zed\\ProductOffer\\Persistence\\Propel\\Mapper\\ProductOfferMapper::mapProductOfferTransferToProductOfferEntity cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferEntityManager.php",
            "snippet": "            ->mapProductOfferTransferToProductOfferEntity($productOfferTransfer, $productOfferEntity);",
            "selected_text": "$productOfferEntity",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 73,
            "line_to": 73,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Orm\\Zed\\ProductOffer\\Persistence\\SpyProductOfferStore::setFkProductOffer cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferEntityManager.php",
            "snippet": "                ->setFkProductOffer($productOfferTransfer->getIdProductOffer())",
            "selected_text": "$productOfferTransfer->getIdProductOffer()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 74,
            "line_to": 74,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Orm\\Zed\\ProductOffer\\Persistence\\SpyProductOfferStore::setFkStore cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferEntityManager.php",
            "snippet": "                ->setFkStore($storeTransfer->getIdStore());",
            "selected_text": "$storeTransfer->getIdStore()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 143,
            "line_to": 143,
            "type": "ArgumentTypeCoercion",
            "message": "Argument 1 of Spryker\\Zed\\ProductOffer\\Persistence\\Propel\\Mapper\\ProductOfferMapper::mapProductOfferEntitiesToProductOfferCollectionTransfer expects Propel\\Runtime\\Collection\\ObjectCollection<Orm\\Zed\\ProductOffer\\Persistence\\SpyProductOffer>, but parent type Propel\\Runtime\\Collection\\Collection&Traversable<mixed, Orm\\Zed\\ProductOffer\\Persistence\\SpyProductOffer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferRepository.php",
            "snippet": "                $productOfferQuery->find(),",
            "selected_text": "$productOfferQuery->find()",
            "error_level": 3,
            "shortcode": 193
        },
        {
            "severity": "info",
            "line_from": 162,
            "line_to": 162,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Orm\\Zed\\ProductOffer\\Persistence\\SpyProductOfferQuery::limit cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferRepository.php",
            "snippet": "                ->limit($paginationTransfer->getLimit())",
            "selected_text": "$paginationTransfer->getLimit()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 163,
            "line_to": 163,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Orm\\Zed\\ProductOffer\\Persistence\\SpyProductOfferQuery::offset cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferRepository.php",
            "snippet": "                ->offset($paginationTransfer->getOffset());",
            "selected_text": "$paginationTransfer->getOffset()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 281,
            "line_to": 281,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Propel\\Runtime\\ActiveQuery\\ModelCriteria::paginate cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferRepository.php",
            "snippet": "            $paginationModel = $query->paginate($page, $maxPerPage);",
            "selected_text": "$page",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 281,
            "line_to": 281,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of Propel\\Runtime\\ActiveQuery\\ModelCriteria::paginate cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferRepository.php",
            "snippet": "            $paginationModel = $query->paginate($page, $maxPerPage);",
            "selected_text": "$maxPerPage",
            "error_level": 3,
            "shortcode": 78
        }
    ],
    "deprecation": [
        {
            "severity": "info",
            "line_from": 20,
            "line_to": 20,
            "type": "DeprecatedInterface",
            "message": "Spryker\\Zed\\Cart\\Dependency\\ItemExpanderPluginInterface is marked deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Communication/Plugin/Cart/ProductOfferGroupKeyItemExpanderPlugin.php",
            "snippet": "class ProductOfferGroupKeyItemExpanderPlugin extends AbstractPlugin implements ItemExpanderPluginInterface",
            "selected_text": "ProductOfferGroupKeyItemExpanderPlugin",
            "error_level": 2,
            "shortcode": 152
        },
        {
            "severity": "info",
            "line_from": 222,
            "line_to": 222,
            "type": "DeprecatedMethod",
            "message": "The method Spryker\\Zed\\ProductOffer\\Persistence\\ProductOfferRepository::hasMerchantReferenceField has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/ProductOffer/src/Spryker/Zed/ProductOffer/Persistence/ProductOfferRepository.php",
            "snippet": "        if ($productOfferCriteria->getMerchantReferences() && $this->hasMerchantReferenceField()) {",
            "selected_text": "hasMerchantReferenceField",
            "error_level": 2,
            "shortcode": 1
        }
    ],
    "count": 36
}
